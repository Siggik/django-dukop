{% extends "base.html" %}
{% load i18n sekizai_tags static calendar_tags %}

{% block dukop_title %}{% trans "Subscribing to feeds" %}{% endblock %}

{% block content %}

<h1 class="card__title">{% trans "Subscribing to feeds" %}</h1>

<p>
    {% blocktrans trimmed %}
    You can automatically stay updated with events in Duk Op by subscribing to
    "feeds". These are data sources that can be added to your calendar by
    copy-pasting their URL into the Import function of your calendar.
    {% endblocktrans %}
</p>

<p>
    <strong>{% trans "Feed URLs are found at the bottom of all pages and in calendar listings." %}</strong>
</p>

<p>
    {% blocktrans trimmed %}
    By subscribing to feeds, you will see Duk Op events directly in your calendar as a layer
    that can be switched on and off.
    {% endblocktrans %}
</p>

<p>
    {% blocktrans trimmed %}
    Both new events will automatically be pulled in, but changes to existing
    events will also be visible -- for instance date, time, description
    and location.
    {% endblocktrans %}
</p>

<h2>{% trans "Choosing what to subscribe to" %}</h2>

<p>
    {% blocktrans trimmed %}
    Duk Op consists of different Spheres, Venues and Groups. You will be able
    to subscribe to any of these, precisely how you want.
    {% endblocktrans %}
</p>

<h3>{% trans "Sphere feeds" %}</h3>

<table class="article-table">
{% for sphere in spheres %}
<tr>
    <th colspan="2">{{ sphere.name }}</th>
</tr>
<tr>
    <td style="width: 1%">ICS/iCAL</td>
    <td><input type="text" value="{% feed_link 'calendar:feed_ical' sphere_id=sphere.pk %}" class="share-text-input feed-link-input"></td>
</tr>
<tr>
    <td>RSS</td>
    <td><input type="text" value="{% feed_link 'calendar:feed_rss' sphere_id=sphere.pk %}" class="share-text-input feed-link-input"></td>
</tr>
{% endfor %}
</table>

<h2>{% trans "How often to update" %}</h2>

<p>
    {% blocktrans trimmed %}
    We recommend that you just pull in contents a few times daily. There is no
    need to load your own device or our servers more than this.
    {% endblocktrans %}
</p>

{% endblock %}
